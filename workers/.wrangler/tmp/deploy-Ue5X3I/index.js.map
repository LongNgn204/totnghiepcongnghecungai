{
  "version": 3,
  "sources": ["../../../node_modules/src/src/Router.ts", "../../../node_modules/src/src/StatusError.ts", "../../../node_modules/src/src/createResponse.ts", "../../../node_modules/src/src/json.ts", "../../../node_modules/src/src/error.ts", "../../../node_modules/src/src/status.ts", "../../../node_modules/src/src/text.ts", "../../../node_modules/src/src/html.ts", "../../../node_modules/src/src/jpeg.ts", "../../../node_modules/src/src/png.ts", "../../../node_modules/src/src/webp.ts", "../../../node_modules/src/src/withContent.ts", "../../../node_modules/src/src/withCookies.ts", "../../../node_modules/src/src/withParams.ts", "../../../node_modules/src/src/createCors.ts", "../../../src/utils.ts", "../../../src/auth.ts", "../../../node_modules/bcryptjs/index.js", "../../../src/auth-service.ts", "../../../src/index.ts"],
  "sourceRoot": "C:\\Users\\Long\\Downloads\\ai-h\u1ED7-tr\u1EE3-h\u1ECDc-t\u1EADp-c\u00F4ng-ngh\u1EC7-(l\u1EDBp-6-12)\\workers\\.wrangler\\tmp\\deploy-Ue5X3I",
  "sourcesContent": [null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, "// Response helpers with CORS\r\n\r\nexport const corsHeaders = {\r\n  'Access-Control-Allow-Origin': '*',\r\n  'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS',\r\n  'Access-Control-Allow-Headers': 'Content-Type, X-User-ID',\r\n  'Access-Control-Max-Age': '86400',\r\n};\r\n\r\nexport function jsonResponse(data: any, status = 200): Response {\r\n  return new Response(JSON.stringify(data), {\r\n    status,\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      ...corsHeaders,\r\n    },\r\n  });\r\n}\r\n\r\nexport function errorResponse(message: string, status = 500): Response {\r\n  return jsonResponse(\r\n    {\r\n      error: message,\r\n      status,\r\n      timestamp: Date.now(),\r\n    },\r\n    status\r\n  );\r\n}\r\n\r\nexport function successResponse(data: any, message?: string): Response {\r\n  return jsonResponse({\r\n    success: true,\r\n    data,\r\n    message,\r\n    timestamp: Date.now(),\r\n  });\r\n}\r\n\r\nexport function notFoundResponse(resource = 'Resource'): Response {\r\n  return errorResponse(`${resource} not found`, 404);\r\n}\r\n\r\nexport function badRequestResponse(message = 'Bad request'): Response {\r\n  return errorResponse(message, 400);\r\n}\r\n\r\nexport function unauthorizedResponse(message = 'Unauthorized'): Response {\r\n  return errorResponse(message, 401);\r\n}\r\n", "// Authentication helpers\r\n\r\nexport function getUserIdFromRequest(request: Request): string | null {\r\n  return request.headers.get('X-User-ID');\r\n}\r\n\r\nexport async function ensureUser(db: D1Database, userId: string): Promise<void> {\r\n  const existing = await db\r\n    .prepare('SELECT id FROM users WHERE id = ?')\r\n    .bind(userId)\r\n    .first();\r\n\r\n  if (!existing) {\r\n    await db\r\n      .prepare(\r\n        'INSERT INTO users (id, name, created_at, last_active) VALUES (?, ?, ?, ?)'\r\n      )\r\n      .bind(userId, 'H\u1ECDc sinh', Date.now(), Date.now())\r\n      .run();\r\n  } else {\r\n    // Update last active\r\n    await db\r\n      .prepare('UPDATE users SET last_active = ? WHERE id = ?')\r\n      .bind(Date.now(), userId)\r\n      .run();\r\n  }\r\n}\r\n\r\nexport function requireAuth(request: Request): string {\r\n  const userId = getUserIdFromRequest(request);\r\n  if (!userId) {\r\n    throw new Error('Missing X-User-ID header');\r\n  }\r\n  return userId;\r\n}\r\n", "/*\n Copyright (c) 2012 Nevins Bartolomeo <nevins.bartolomeo@gmail.com>\n Copyright (c) 2012 Shane Girish <shaneGirish@gmail.com>\n Copyright (c) 2025 Daniel Wirtz <dcode@dcode.io>\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions\n are met:\n 1. Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n 2. Redistributions in binary form must reproduce the above copyright\n notice, this list of conditions and the following disclaimer in the\n documentation and/or other materials provided with the distribution.\n 3. The name of the author may not be used to endorse or promote products\n derived from this software without specific prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR\n IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\n IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT,\n INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT\n NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF\n THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n// The Node.js crypto module is used as a fallback for the Web Crypto API. When\n// building for the browser, inclusion of the crypto module should be disabled,\n// which the package hints at in its package.json for bundlers that support it.\nimport nodeCrypto from \"crypto\";\n\n/**\n * The random implementation to use as a fallback.\n * @type {?function(number):!Array.<number>}\n * @inner\n */\nvar randomFallback = null;\n\n/**\n * Generates cryptographically secure random bytes.\n * @function\n * @param {number} len Bytes length\n * @returns {!Array.<number>} Random bytes\n * @throws {Error} If no random implementation is available\n * @inner\n */\nfunction randomBytes(len) {\n  // Web Crypto API. Globally available in the browser and in Node.js >=23.\n  try {\n    return crypto.getRandomValues(new Uint8Array(len));\n  } catch {}\n  // Node.js crypto module for non-browser environments.\n  try {\n    return nodeCrypto.randomBytes(len);\n  } catch {}\n  // Custom fallback specified with `setRandomFallback`.\n  if (!randomFallback) {\n    throw Error(\n      \"Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative\",\n    );\n  }\n  return randomFallback(len);\n}\n\n/**\n * Sets the pseudo random number generator to use as a fallback if neither node's `crypto` module nor the Web Crypto\n *  API is available. Please note: It is highly important that the PRNG used is cryptographically secure and that it\n *  is seeded properly!\n * @param {?function(number):!Array.<number>} random Function taking the number of bytes to generate as its\n *  sole argument, returning the corresponding array of cryptographically secure random byte values.\n * @see http://nodejs.org/api/crypto.html\n * @see http://www.w3.org/TR/WebCryptoAPI/\n */\nexport function setRandomFallback(random) {\n  randomFallback = random;\n}\n\n/**\n * Synchronously generates a salt.\n * @param {number=} rounds Number of rounds to use, defaults to 10 if omitted\n * @param {number=} seed_length Not supported.\n * @returns {string} Resulting salt\n * @throws {Error} If a random fallback is required but not set\n */\nexport function genSaltSync(rounds, seed_length) {\n  rounds = rounds || GENSALT_DEFAULT_LOG2_ROUNDS;\n  if (typeof rounds !== \"number\")\n    throw Error(\n      \"Illegal arguments: \" + typeof rounds + \", \" + typeof seed_length,\n    );\n  if (rounds < 4) rounds = 4;\n  else if (rounds > 31) rounds = 31;\n  var salt = [];\n  salt.push(\"$2b$\");\n  if (rounds < 10) salt.push(\"0\");\n  salt.push(rounds.toString());\n  salt.push(\"$\");\n  salt.push(base64_encode(randomBytes(BCRYPT_SALT_LEN), BCRYPT_SALT_LEN)); // May throw\n  return salt.join(\"\");\n}\n\n/**\n * Asynchronously generates a salt.\n * @param {(number|function(Error, string=))=} rounds Number of rounds to use, defaults to 10 if omitted\n * @param {(number|function(Error, string=))=} seed_length Not supported.\n * @param {function(Error, string=)=} callback Callback receiving the error, if any, and the resulting salt\n * @returns {!Promise} If `callback` has been omitted\n * @throws {Error} If `callback` is present but not a function\n */\nexport function genSalt(rounds, seed_length, callback) {\n  if (typeof seed_length === \"function\")\n    (callback = seed_length), (seed_length = undefined); // Not supported.\n  if (typeof rounds === \"function\") (callback = rounds), (rounds = undefined);\n  if (typeof rounds === \"undefined\") rounds = GENSALT_DEFAULT_LOG2_ROUNDS;\n  else if (typeof rounds !== \"number\")\n    throw Error(\"illegal arguments: \" + typeof rounds);\n\n  function _async(callback) {\n    nextTick(function () {\n      // Pretty thin, but salting is fast enough\n      try {\n        callback(null, genSaltSync(rounds));\n      } catch (err) {\n        callback(err);\n      }\n    });\n  }\n\n  if (callback) {\n    if (typeof callback !== \"function\")\n      throw Error(\"Illegal callback: \" + typeof callback);\n    _async(callback);\n  } else\n    return new Promise(function (resolve, reject) {\n      _async(function (err, res) {\n        if (err) {\n          reject(err);\n          return;\n        }\n        resolve(res);\n      });\n    });\n}\n\n/**\n * Synchronously generates a hash for the given password.\n * @param {string} password Password to hash\n * @param {(number|string)=} salt Salt length to generate or salt to use, default to 10\n * @returns {string} Resulting hash\n */\nexport function hashSync(password, salt) {\n  if (typeof salt === \"undefined\") salt = GENSALT_DEFAULT_LOG2_ROUNDS;\n  if (typeof salt === \"number\") salt = genSaltSync(salt);\n  if (typeof password !== \"string\" || typeof salt !== \"string\")\n    throw Error(\"Illegal arguments: \" + typeof password + \", \" + typeof salt);\n  return _hash(password, salt);\n}\n\n/**\n * Asynchronously generates a hash for the given password.\n * @param {string} password Password to hash\n * @param {number|string} salt Salt length to generate or salt to use\n * @param {function(Error, string=)=} callback Callback receiving the error, if any, and the resulting hash\n * @param {function(number)=} progressCallback Callback successively called with the percentage of rounds completed\n *  (0.0 - 1.0), maximally once per `MAX_EXECUTION_TIME = 100` ms.\n * @returns {!Promise} If `callback` has been omitted\n * @throws {Error} If `callback` is present but not a function\n */\nexport function hash(password, salt, callback, progressCallback) {\n  function _async(callback) {\n    if (typeof password === \"string\" && typeof salt === \"number\")\n      genSalt(salt, function (err, salt) {\n        _hash(password, salt, callback, progressCallback);\n      });\n    else if (typeof password === \"string\" && typeof salt === \"string\")\n      _hash(password, salt, callback, progressCallback);\n    else\n      nextTick(\n        callback.bind(\n          this,\n          Error(\"Illegal arguments: \" + typeof password + \", \" + typeof salt),\n        ),\n      );\n  }\n\n  if (callback) {\n    if (typeof callback !== \"function\")\n      throw Error(\"Illegal callback: \" + typeof callback);\n    _async(callback);\n  } else\n    return new Promise(function (resolve, reject) {\n      _async(function (err, res) {\n        if (err) {\n          reject(err);\n          return;\n        }\n        resolve(res);\n      });\n    });\n}\n\n/**\n * Compares two strings of the same length in constant time.\n * @param {string} known Must be of the correct length\n * @param {string} unknown Must be the same length as `known`\n * @returns {boolean}\n * @inner\n */\nfunction safeStringCompare(known, unknown) {\n  var diff = known.length ^ unknown.length;\n  for (var i = 0; i < known.length; ++i) {\n    diff |= known.charCodeAt(i) ^ unknown.charCodeAt(i);\n  }\n  return diff === 0;\n}\n\n/**\n * Synchronously tests a password against a hash.\n * @param {string} password Password to compare\n * @param {string} hash Hash to test against\n * @returns {boolean} true if matching, otherwise false\n * @throws {Error} If an argument is illegal\n */\nexport function compareSync(password, hash) {\n  if (typeof password !== \"string\" || typeof hash !== \"string\")\n    throw Error(\"Illegal arguments: \" + typeof password + \", \" + typeof hash);\n  if (hash.length !== 60) return false;\n  return safeStringCompare(\n    hashSync(password, hash.substring(0, hash.length - 31)),\n    hash,\n  );\n}\n\n/**\n * Asynchronously tests a password against a hash.\n * @param {string} password Password to compare\n * @param {string} hashValue Hash to test against\n * @param {function(Error, boolean)=} callback Callback receiving the error, if any, otherwise the result\n * @param {function(number)=} progressCallback Callback successively called with the percentage of rounds completed\n *  (0.0 - 1.0), maximally once per `MAX_EXECUTION_TIME = 100` ms.\n * @returns {!Promise} If `callback` has been omitted\n * @throws {Error} If `callback` is present but not a function\n */\nexport function compare(password, hashValue, callback, progressCallback) {\n  function _async(callback) {\n    if (typeof password !== \"string\" || typeof hashValue !== \"string\") {\n      nextTick(\n        callback.bind(\n          this,\n          Error(\n            \"Illegal arguments: \" + typeof password + \", \" + typeof hashValue,\n          ),\n        ),\n      );\n      return;\n    }\n    if (hashValue.length !== 60) {\n      nextTick(callback.bind(this, null, false));\n      return;\n    }\n    hash(\n      password,\n      hashValue.substring(0, 29),\n      function (err, comp) {\n        if (err) callback(err);\n        else callback(null, safeStringCompare(comp, hashValue));\n      },\n      progressCallback,\n    );\n  }\n\n  if (callback) {\n    if (typeof callback !== \"function\")\n      throw Error(\"Illegal callback: \" + typeof callback);\n    _async(callback);\n  } else\n    return new Promise(function (resolve, reject) {\n      _async(function (err, res) {\n        if (err) {\n          reject(err);\n          return;\n        }\n        resolve(res);\n      });\n    });\n}\n\n/**\n * Gets the number of rounds used to encrypt the specified hash.\n * @param {string} hash Hash to extract the used number of rounds from\n * @returns {number} Number of rounds used\n * @throws {Error} If `hash` is not a string\n */\nexport function getRounds(hash) {\n  if (typeof hash !== \"string\")\n    throw Error(\"Illegal arguments: \" + typeof hash);\n  return parseInt(hash.split(\"$\")[2], 10);\n}\n\n/**\n * Gets the salt portion from a hash. Does not validate the hash.\n * @param {string} hash Hash to extract the salt from\n * @returns {string} Extracted salt part\n * @throws {Error} If `hash` is not a string or otherwise invalid\n */\nexport function getSalt(hash) {\n  if (typeof hash !== \"string\")\n    throw Error(\"Illegal arguments: \" + typeof hash);\n  if (hash.length !== 60)\n    throw Error(\"Illegal hash length: \" + hash.length + \" != 60\");\n  return hash.substring(0, 29);\n}\n\n/**\n * Tests if a password will be truncated when hashed, that is its length is\n * greater than 72 bytes when converted to UTF-8.\n * @param {string} password The password to test\n * @returns {boolean} `true` if truncated, otherwise `false`\n */\nexport function truncates(password) {\n  if (typeof password !== \"string\")\n    throw Error(\"Illegal arguments: \" + typeof password);\n  return utf8Length(password) > 72;\n}\n\n/**\n * Continues with the callback after yielding to the event loop.\n * @function\n * @param {function(...[*])} callback Callback to execute\n * @inner\n */\nvar nextTick =\n  typeof setImmediate === \"function\"\n    ? setImmediate\n    : typeof scheduler === \"object\" && typeof scheduler.postTask === \"function\"\n      ? scheduler.postTask.bind(scheduler)\n      : setTimeout;\n\n/** Calculates the byte length of a string encoded as UTF8. */\nfunction utf8Length(string) {\n  var len = 0,\n    c = 0;\n  for (var i = 0; i < string.length; ++i) {\n    c = string.charCodeAt(i);\n    if (c < 128) len += 1;\n    else if (c < 2048) len += 2;\n    else if (\n      (c & 0xfc00) === 0xd800 &&\n      (string.charCodeAt(i + 1) & 0xfc00) === 0xdc00\n    ) {\n      ++i;\n      len += 4;\n    } else len += 3;\n  }\n  return len;\n}\n\n/** Converts a string to an array of UTF8 bytes. */\nfunction utf8Array(string) {\n  var offset = 0,\n    c1,\n    c2;\n  var buffer = new Array(utf8Length(string));\n  for (var i = 0, k = string.length; i < k; ++i) {\n    c1 = string.charCodeAt(i);\n    if (c1 < 128) {\n      buffer[offset++] = c1;\n    } else if (c1 < 2048) {\n      buffer[offset++] = (c1 >> 6) | 192;\n      buffer[offset++] = (c1 & 63) | 128;\n    } else if (\n      (c1 & 0xfc00) === 0xd800 &&\n      ((c2 = string.charCodeAt(i + 1)) & 0xfc00) === 0xdc00\n    ) {\n      c1 = 0x10000 + ((c1 & 0x03ff) << 10) + (c2 & 0x03ff);\n      ++i;\n      buffer[offset++] = (c1 >> 18) | 240;\n      buffer[offset++] = ((c1 >> 12) & 63) | 128;\n      buffer[offset++] = ((c1 >> 6) & 63) | 128;\n      buffer[offset++] = (c1 & 63) | 128;\n    } else {\n      buffer[offset++] = (c1 >> 12) | 224;\n      buffer[offset++] = ((c1 >> 6) & 63) | 128;\n      buffer[offset++] = (c1 & 63) | 128;\n    }\n  }\n  return buffer;\n}\n\n// A base64 implementation for the bcrypt algorithm. This is partly non-standard.\n\n/**\n * bcrypt's own non-standard base64 dictionary.\n * @type {!Array.<string>}\n * @const\n * @inner\n **/\nvar BASE64_CODE =\n  \"./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\".split(\"\");\n\n/**\n * @type {!Array.<number>}\n * @const\n * @inner\n **/\nvar BASE64_INDEX = [\n  -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  -1, -1, -1, -1, -1, -1, -1, -1, 0, 1, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63,\n  -1, -1, -1, -1, -1, -1, -1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,\n  16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, -1, -1, -1, -1, -1, -1, 28,\n  29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47,\n  48, 49, 50, 51, 52, 53, -1, -1, -1, -1, -1,\n];\n\n/**\n * Encodes a byte array to base64 with up to len bytes of input.\n * @param {!Array.<number>} b Byte array\n * @param {number} len Maximum input length\n * @returns {string}\n * @inner\n */\nfunction base64_encode(b, len) {\n  var off = 0,\n    rs = [],\n    c1,\n    c2;\n  if (len <= 0 || len > b.length) throw Error(\"Illegal len: \" + len);\n  while (off < len) {\n    c1 = b[off++] & 0xff;\n    rs.push(BASE64_CODE[(c1 >> 2) & 0x3f]);\n    c1 = (c1 & 0x03) << 4;\n    if (off >= len) {\n      rs.push(BASE64_CODE[c1 & 0x3f]);\n      break;\n    }\n    c2 = b[off++] & 0xff;\n    c1 |= (c2 >> 4) & 0x0f;\n    rs.push(BASE64_CODE[c1 & 0x3f]);\n    c1 = (c2 & 0x0f) << 2;\n    if (off >= len) {\n      rs.push(BASE64_CODE[c1 & 0x3f]);\n      break;\n    }\n    c2 = b[off++] & 0xff;\n    c1 |= (c2 >> 6) & 0x03;\n    rs.push(BASE64_CODE[c1 & 0x3f]);\n    rs.push(BASE64_CODE[c2 & 0x3f]);\n  }\n  return rs.join(\"\");\n}\n\n/**\n * Decodes a base64 encoded string to up to len bytes of output.\n * @param {string} s String to decode\n * @param {number} len Maximum output length\n * @returns {!Array.<number>}\n * @inner\n */\nfunction base64_decode(s, len) {\n  var off = 0,\n    slen = s.length,\n    olen = 0,\n    rs = [],\n    c1,\n    c2,\n    c3,\n    c4,\n    o,\n    code;\n  if (len <= 0) throw Error(\"Illegal len: \" + len);\n  while (off < slen - 1 && olen < len) {\n    code = s.charCodeAt(off++);\n    c1 = code < BASE64_INDEX.length ? BASE64_INDEX[code] : -1;\n    code = s.charCodeAt(off++);\n    c2 = code < BASE64_INDEX.length ? BASE64_INDEX[code] : -1;\n    if (c1 == -1 || c2 == -1) break;\n    o = (c1 << 2) >>> 0;\n    o |= (c2 & 0x30) >> 4;\n    rs.push(String.fromCharCode(o));\n    if (++olen >= len || off >= slen) break;\n    code = s.charCodeAt(off++);\n    c3 = code < BASE64_INDEX.length ? BASE64_INDEX[code] : -1;\n    if (c3 == -1) break;\n    o = ((c2 & 0x0f) << 4) >>> 0;\n    o |= (c3 & 0x3c) >> 2;\n    rs.push(String.fromCharCode(o));\n    if (++olen >= len || off >= slen) break;\n    code = s.charCodeAt(off++);\n    c4 = code < BASE64_INDEX.length ? BASE64_INDEX[code] : -1;\n    o = ((c3 & 0x03) << 6) >>> 0;\n    o |= c4;\n    rs.push(String.fromCharCode(o));\n    ++olen;\n  }\n  var res = [];\n  for (off = 0; off < olen; off++) res.push(rs[off].charCodeAt(0));\n  return res;\n}\n\n/**\n * @type {number}\n * @const\n * @inner\n */\nvar BCRYPT_SALT_LEN = 16;\n\n/**\n * @type {number}\n * @const\n * @inner\n */\nvar GENSALT_DEFAULT_LOG2_ROUNDS = 10;\n\n/**\n * @type {number}\n * @const\n * @inner\n */\nvar BLOWFISH_NUM_ROUNDS = 16;\n\n/**\n * @type {number}\n * @const\n * @inner\n */\nvar MAX_EXECUTION_TIME = 100;\n\n/**\n * @type {Array.<number>}\n * @const\n * @inner\n */\nvar P_ORIG = [\n  0x243f6a88, 0x85a308d3, 0x13198a2e, 0x03707344, 0xa4093822, 0x299f31d0,\n  0x082efa98, 0xec4e6c89, 0x452821e6, 0x38d01377, 0xbe5466cf, 0x34e90c6c,\n  0xc0ac29b7, 0xc97c50dd, 0x3f84d5b5, 0xb5470917, 0x9216d5d9, 0x8979fb1b,\n];\n\n/**\n * @type {Array.<number>}\n * @const\n * @inner\n */\nvar S_ORIG = [\n  0xd1310ba6, 0x98dfb5ac, 0x2ffd72db, 0xd01adfb7, 0xb8e1afed, 0x6a267e96,\n  0xba7c9045, 0xf12c7f99, 0x24a19947, 0xb3916cf7, 0x0801f2e2, 0x858efc16,\n  0x636920d8, 0x71574e69, 0xa458fea3, 0xf4933d7e, 0x0d95748f, 0x728eb658,\n  0x718bcd58, 0x82154aee, 0x7b54a41d, 0xc25a59b5, 0x9c30d539, 0x2af26013,\n  0xc5d1b023, 0x286085f0, 0xca417918, 0xb8db38ef, 0x8e79dcb0, 0x603a180e,\n  0x6c9e0e8b, 0xb01e8a3e, 0xd71577c1, 0xbd314b27, 0x78af2fda, 0x55605c60,\n  0xe65525f3, 0xaa55ab94, 0x57489862, 0x63e81440, 0x55ca396a, 0x2aab10b6,\n  0xb4cc5c34, 0x1141e8ce, 0xa15486af, 0x7c72e993, 0xb3ee1411, 0x636fbc2a,\n  0x2ba9c55d, 0x741831f6, 0xce5c3e16, 0x9b87931e, 0xafd6ba33, 0x6c24cf5c,\n  0x7a325381, 0x28958677, 0x3b8f4898, 0x6b4bb9af, 0xc4bfe81b, 0x66282193,\n  0x61d809cc, 0xfb21a991, 0x487cac60, 0x5dec8032, 0xef845d5d, 0xe98575b1,\n  0xdc262302, 0xeb651b88, 0x23893e81, 0xd396acc5, 0x0f6d6ff3, 0x83f44239,\n  0x2e0b4482, 0xa4842004, 0x69c8f04a, 0x9e1f9b5e, 0x21c66842, 0xf6e96c9a,\n  0x670c9c61, 0xabd388f0, 0x6a51a0d2, 0xd8542f68, 0x960fa728, 0xab5133a3,\n  0x6eef0b6c, 0x137a3be4, 0xba3bf050, 0x7efb2a98, 0xa1f1651d, 0x39af0176,\n  0x66ca593e, 0x82430e88, 0x8cee8619, 0x456f9fb4, 0x7d84a5c3, 0x3b8b5ebe,\n  0xe06f75d8, 0x85c12073, 0x401a449f, 0x56c16aa6, 0x4ed3aa62, 0x363f7706,\n  0x1bfedf72, 0x429b023d, 0x37d0d724, 0xd00a1248, 0xdb0fead3, 0x49f1c09b,\n  0x075372c9, 0x80991b7b, 0x25d479d8, 0xf6e8def7, 0xe3fe501a, 0xb6794c3b,\n  0x976ce0bd, 0x04c006ba, 0xc1a94fb6, 0x409f60c4, 0x5e5c9ec2, 0x196a2463,\n  0x68fb6faf, 0x3e6c53b5, 0x1339b2eb, 0x3b52ec6f, 0x6dfc511f, 0x9b30952c,\n  0xcc814544, 0xaf5ebd09, 0xbee3d004, 0xde334afd, 0x660f2807, 0x192e4bb3,\n  0xc0cba857, 0x45c8740f, 0xd20b5f39, 0xb9d3fbdb, 0x5579c0bd, 0x1a60320a,\n  0xd6a100c6, 0x402c7279, 0x679f25fe, 0xfb1fa3cc, 0x8ea5e9f8, 0xdb3222f8,\n  0x3c7516df, 0xfd616b15, 0x2f501ec8, 0xad0552ab, 0x323db5fa, 0xfd238760,\n  0x53317b48, 0x3e00df82, 0x9e5c57bb, 0xca6f8ca0, 0x1a87562e, 0xdf1769db,\n  0xd542a8f6, 0x287effc3, 0xac6732c6, 0x8c4f5573, 0x695b27b0, 0xbbca58c8,\n  0xe1ffa35d, 0xb8f011a0, 0x10fa3d98, 0xfd2183b8, 0x4afcb56c, 0x2dd1d35b,\n  0x9a53e479, 0xb6f84565, 0xd28e49bc, 0x4bfb9790, 0xe1ddf2da, 0xa4cb7e33,\n  0x62fb1341, 0xcee4c6e8, 0xef20cada, 0x36774c01, 0xd07e9efe, 0x2bf11fb4,\n  0x95dbda4d, 0xae909198, 0xeaad8e71, 0x6b93d5a0, 0xd08ed1d0, 0xafc725e0,\n  0x8e3c5b2f, 0x8e7594b7, 0x8ff6e2fb, 0xf2122b64, 0x8888b812, 0x900df01c,\n  0x4fad5ea0, 0x688fc31c, 0xd1cff191, 0xb3a8c1ad, 0x2f2f2218, 0xbe0e1777,\n  0xea752dfe, 0x8b021fa1, 0xe5a0cc0f, 0xb56f74e8, 0x18acf3d6, 0xce89e299,\n  0xb4a84fe0, 0xfd13e0b7, 0x7cc43b81, 0xd2ada8d9, 0x165fa266, 0x80957705,\n  0x93cc7314, 0x211a1477, 0xe6ad2065, 0x77b5fa86, 0xc75442f5, 0xfb9d35cf,\n  0xebcdaf0c, 0x7b3e89a0, 0xd6411bd3, 0xae1e7e49, 0x00250e2d, 0x2071b35e,\n  0x226800bb, 0x57b8e0af, 0x2464369b, 0xf009b91e, 0x5563911d, 0x59dfa6aa,\n  0x78c14389, 0xd95a537f, 0x207d5ba2, 0x02e5b9c5, 0x83260376, 0x6295cfa9,\n  0x11c81968, 0x4e734a41, 0xb3472dca, 0x7b14a94a, 0x1b510052, 0x9a532915,\n  0xd60f573f, 0xbc9bc6e4, 0x2b60a476, 0x81e67400, 0x08ba6fb5, 0x571be91f,\n  0xf296ec6b, 0x2a0dd915, 0xb6636521, 0xe7b9f9b6, 0xff34052e, 0xc5855664,\n  0x53b02d5d, 0xa99f8fa1, 0x08ba4799, 0x6e85076a, 0x4b7a70e9, 0xb5b32944,\n  0xdb75092e, 0xc4192623, 0xad6ea6b0, 0x49a7df7d, 0x9cee60b8, 0x8fedb266,\n  0xecaa8c71, 0x699a17ff, 0x5664526c, 0xc2b19ee1, 0x193602a5, 0x75094c29,\n  0xa0591340, 0xe4183a3e, 0x3f54989a, 0x5b429d65, 0x6b8fe4d6, 0x99f73fd6,\n  0xa1d29c07, 0xefe830f5, 0x4d2d38e6, 0xf0255dc1, 0x4cdd2086, 0x8470eb26,\n  0x6382e9c6, 0x021ecc5e, 0x09686b3f, 0x3ebaefc9, 0x3c971814, 0x6b6a70a1,\n  0x687f3584, 0x52a0e286, 0xb79c5305, 0xaa500737, 0x3e07841c, 0x7fdeae5c,\n  0x8e7d44ec, 0x5716f2b8, 0xb03ada37, 0xf0500c0d, 0xf01c1f04, 0x0200b3ff,\n  0xae0cf51a, 0x3cb574b2, 0x25837a58, 0xdc0921bd, 0xd19113f9, 0x7ca92ff6,\n  0x94324773, 0x22f54701, 0x3ae5e581, 0x37c2dadc, 0xc8b57634, 0x9af3dda7,\n  0xa9446146, 0x0fd0030e, 0xecc8c73e, 0xa4751e41, 0xe238cd99, 0x3bea0e2f,\n  0x3280bba1, 0x183eb331, 0x4e548b38, 0x4f6db908, 0x6f420d03, 0xf60a04bf,\n  0x2cb81290, 0x24977c79, 0x5679b072, 0xbcaf89af, 0xde9a771f, 0xd9930810,\n  0xb38bae12, 0xdccf3f2e, 0x5512721f, 0x2e6b7124, 0x501adde6, 0x9f84cd87,\n  0x7a584718, 0x7408da17, 0xbc9f9abc, 0xe94b7d8c, 0xec7aec3a, 0xdb851dfa,\n  0x63094366, 0xc464c3d2, 0xef1c1847, 0x3215d908, 0xdd433b37, 0x24c2ba16,\n  0x12a14d43, 0x2a65c451, 0x50940002, 0x133ae4dd, 0x71dff89e, 0x10314e55,\n  0x81ac77d6, 0x5f11199b, 0x043556f1, 0xd7a3c76b, 0x3c11183b, 0x5924a509,\n  0xf28fe6ed, 0x97f1fbfa, 0x9ebabf2c, 0x1e153c6e, 0x86e34570, 0xeae96fb1,\n  0x860e5e0a, 0x5a3e2ab3, 0x771fe71c, 0x4e3d06fa, 0x2965dcb9, 0x99e71d0f,\n  0x803e89d6, 0x5266c825, 0x2e4cc978, 0x9c10b36a, 0xc6150eba, 0x94e2ea78,\n  0xa5fc3c53, 0x1e0a2df4, 0xf2f74ea7, 0x361d2b3d, 0x1939260f, 0x19c27960,\n  0x5223a708, 0xf71312b6, 0xebadfe6e, 0xeac31f66, 0xe3bc4595, 0xa67bc883,\n  0xb17f37d1, 0x018cff28, 0xc332ddef, 0xbe6c5aa5, 0x65582185, 0x68ab9802,\n  0xeecea50f, 0xdb2f953b, 0x2aef7dad, 0x5b6e2f84, 0x1521b628, 0x29076170,\n  0xecdd4775, 0x619f1510, 0x13cca830, 0xeb61bd96, 0x0334fe1e, 0xaa0363cf,\n  0xb5735c90, 0x4c70a239, 0xd59e9e0b, 0xcbaade14, 0xeecc86bc, 0x60622ca7,\n  0x9cab5cab, 0xb2f3846e, 0x648b1eaf, 0x19bdf0ca, 0xa02369b9, 0x655abb50,\n  0x40685a32, 0x3c2ab4b3, 0x319ee9d5, 0xc021b8f7, 0x9b540b19, 0x875fa099,\n  0x95f7997e, 0x623d7da8, 0xf837889a, 0x97e32d77, 0x11ed935f, 0x16681281,\n  0x0e358829, 0xc7e61fd6, 0x96dedfa1, 0x7858ba99, 0x57f584a5, 0x1b227263,\n  0x9b83c3ff, 0x1ac24696, 0xcdb30aeb, 0x532e3054, 0x8fd948e4, 0x6dbc3128,\n  0x58ebf2ef, 0x34c6ffea, 0xfe28ed61, 0xee7c3c73, 0x5d4a14d9, 0xe864b7e3,\n  0x42105d14, 0x203e13e0, 0x45eee2b6, 0xa3aaabea, 0xdb6c4f15, 0xfacb4fd0,\n  0xc742f442, 0xef6abbb5, 0x654f3b1d, 0x41cd2105, 0xd81e799e, 0x86854dc7,\n  0xe44b476a, 0x3d816250, 0xcf62a1f2, 0x5b8d2646, 0xfc8883a0, 0xc1c7b6a3,\n  0x7f1524c3, 0x69cb7492, 0x47848a0b, 0x5692b285, 0x095bbf00, 0xad19489d,\n  0x1462b174, 0x23820e00, 0x58428d2a, 0x0c55f5ea, 0x1dadf43e, 0x233f7061,\n  0x3372f092, 0x8d937e41, 0xd65fecf1, 0x6c223bdb, 0x7cde3759, 0xcbee7460,\n  0x4085f2a7, 0xce77326e, 0xa6078084, 0x19f8509e, 0xe8efd855, 0x61d99735,\n  0xa969a7aa, 0xc50c06c2, 0x5a04abfc, 0x800bcadc, 0x9e447a2e, 0xc3453484,\n  0xfdd56705, 0x0e1e9ec9, 0xdb73dbd3, 0x105588cd, 0x675fda79, 0xe3674340,\n  0xc5c43465, 0x713e38d8, 0x3d28f89e, 0xf16dff20, 0x153e21e7, 0x8fb03d4a,\n  0xe6e39f2b, 0xdb83adf7, 0xe93d5a68, 0x948140f7, 0xf64c261c, 0x94692934,\n  0x411520f7, 0x7602d4f7, 0xbcf46b2e, 0xd4a20068, 0xd4082471, 0x3320f46a,\n  0x43b7d4b7, 0x500061af, 0x1e39f62e, 0x97244546, 0x14214f74, 0xbf8b8840,\n  0x4d95fc1d, 0x96b591af, 0x70f4ddd3, 0x66a02f45, 0xbfbc09ec, 0x03bd9785,\n  0x7fac6dd0, 0x31cb8504, 0x96eb27b3, 0x55fd3941, 0xda2547e6, 0xabca0a9a,\n  0x28507825, 0x530429f4, 0x0a2c86da, 0xe9b66dfb, 0x68dc1462, 0xd7486900,\n  0x680ec0a4, 0x27a18dee, 0x4f3ffea2, 0xe887ad8c, 0xb58ce006, 0x7af4d6b6,\n  0xaace1e7c, 0xd3375fec, 0xce78a399, 0x406b2a42, 0x20fe9e35, 0xd9f385b9,\n  0xee39d7ab, 0x3b124e8b, 0x1dc9faf7, 0x4b6d1856, 0x26a36631, 0xeae397b2,\n  0x3a6efa74, 0xdd5b4332, 0x6841e7f7, 0xca7820fb, 0xfb0af54e, 0xd8feb397,\n  0x454056ac, 0xba489527, 0x55533a3a, 0x20838d87, 0xfe6ba9b7, 0xd096954b,\n  0x55a867bc, 0xa1159a58, 0xcca92963, 0x99e1db33, 0xa62a4a56, 0x3f3125f9,\n  0x5ef47e1c, 0x9029317c, 0xfdf8e802, 0x04272f70, 0x80bb155c, 0x05282ce3,\n  0x95c11548, 0xe4c66d22, 0x48c1133f, 0xc70f86dc, 0x07f9c9ee, 0x41041f0f,\n  0x404779a4, 0x5d886e17, 0x325f51eb, 0xd59bc0d1, 0xf2bcc18f, 0x41113564,\n  0x257b7834, 0x602a9c60, 0xdff8e8a3, 0x1f636c1b, 0x0e12b4c2, 0x02e1329e,\n  0xaf664fd1, 0xcad18115, 0x6b2395e0, 0x333e92e1, 0x3b240b62, 0xeebeb922,\n  0x85b2a20e, 0xe6ba0d99, 0xde720c8c, 0x2da2f728, 0xd0127845, 0x95b794fd,\n  0x647d0862, 0xe7ccf5f0, 0x5449a36f, 0x877d48fa, 0xc39dfd27, 0xf33e8d1e,\n  0x0a476341, 0x992eff74, 0x3a6f6eab, 0xf4f8fd37, 0xa812dc60, 0xa1ebddf8,\n  0x991be14c, 0xdb6e6b0d, 0xc67b5510, 0x6d672c37, 0x2765d43b, 0xdcd0e804,\n  0xf1290dc7, 0xcc00ffa3, 0xb5390f92, 0x690fed0b, 0x667b9ffb, 0xcedb7d9c,\n  0xa091cf0b, 0xd9155ea3, 0xbb132f88, 0x515bad24, 0x7b9479bf, 0x763bd6eb,\n  0x37392eb3, 0xcc115979, 0x8026e297, 0xf42e312d, 0x6842ada7, 0xc66a2b3b,\n  0x12754ccc, 0x782ef11c, 0x6a124237, 0xb79251e7, 0x06a1bbe6, 0x4bfb6350,\n  0x1a6b1018, 0x11caedfa, 0x3d25bdd8, 0xe2e1c3c9, 0x44421659, 0x0a121386,\n  0xd90cec6e, 0xd5abea2a, 0x64af674e, 0xda86a85f, 0xbebfe988, 0x64e4c3fe,\n  0x9dbc8057, 0xf0f7c086, 0x60787bf8, 0x6003604d, 0xd1fd8346, 0xf6381fb0,\n  0x7745ae04, 0xd736fccc, 0x83426b33, 0xf01eab71, 0xb0804187, 0x3c005e5f,\n  0x77a057be, 0xbde8ae24, 0x55464299, 0xbf582e61, 0x4e58f48f, 0xf2ddfda2,\n  0xf474ef38, 0x8789bdc2, 0x5366f9c3, 0xc8b38e74, 0xb475f255, 0x46fcd9b9,\n  0x7aeb2661, 0x8b1ddf84, 0x846a0e79, 0x915f95e2, 0x466e598e, 0x20b45770,\n  0x8cd55591, 0xc902de4c, 0xb90bace1, 0xbb8205d0, 0x11a86248, 0x7574a99e,\n  0xb77f19b6, 0xe0a9dc09, 0x662d09a1, 0xc4324633, 0xe85a1f02, 0x09f0be8c,\n  0x4a99a025, 0x1d6efe10, 0x1ab93d1d, 0x0ba5a4df, 0xa186f20f, 0x2868f169,\n  0xdcb7da83, 0x573906fe, 0xa1e2ce9b, 0x4fcd7f52, 0x50115e01, 0xa70683fa,\n  0xa002b5c4, 0x0de6d027, 0x9af88c27, 0x773f8641, 0xc3604c06, 0x61a806b5,\n  0xf0177a28, 0xc0f586e0, 0x006058aa, 0x30dc7d62, 0x11e69ed7, 0x2338ea63,\n  0x53c2dd94, 0xc2c21634, 0xbbcbee56, 0x90bcb6de, 0xebfc7da1, 0xce591d76,\n  0x6f05e409, 0x4b7c0188, 0x39720a3d, 0x7c927c24, 0x86e3725f, 0x724d9db9,\n  0x1ac15bb4, 0xd39eb8fc, 0xed545578, 0x08fca5b5, 0xd83d7cd3, 0x4dad0fc4,\n  0x1e50ef5e, 0xb161e6f8, 0xa28514d9, 0x6c51133c, 0x6fd5c7e7, 0x56e14ec4,\n  0x362abfce, 0xddc6c837, 0xd79a3234, 0x92638212, 0x670efa8e, 0x406000e0,\n  0x3a39ce37, 0xd3faf5cf, 0xabc27737, 0x5ac52d1b, 0x5cb0679e, 0x4fa33742,\n  0xd3822740, 0x99bc9bbe, 0xd5118e9d, 0xbf0f7315, 0xd62d1c7e, 0xc700c47b,\n  0xb78c1b6b, 0x21a19045, 0xb26eb1be, 0x6a366eb4, 0x5748ab2f, 0xbc946e79,\n  0xc6a376d2, 0x6549c2c8, 0x530ff8ee, 0x468dde7d, 0xd5730a1d, 0x4cd04dc6,\n  0x2939bbdb, 0xa9ba4650, 0xac9526e8, 0xbe5ee304, 0xa1fad5f0, 0x6a2d519a,\n  0x63ef8ce2, 0x9a86ee22, 0xc089c2b8, 0x43242ef6, 0xa51e03aa, 0x9cf2d0a4,\n  0x83c061ba, 0x9be96a4d, 0x8fe51550, 0xba645bd6, 0x2826a2f9, 0xa73a3ae1,\n  0x4ba99586, 0xef5562e9, 0xc72fefd3, 0xf752f7da, 0x3f046f69, 0x77fa0a59,\n  0x80e4a915, 0x87b08601, 0x9b09e6ad, 0x3b3ee593, 0xe990fd5a, 0x9e34d797,\n  0x2cf0b7d9, 0x022b8b51, 0x96d5ac3a, 0x017da67d, 0xd1cf3ed6, 0x7c7d2d28,\n  0x1f9f25cf, 0xadf2b89b, 0x5ad6b472, 0x5a88f54c, 0xe029ac71, 0xe019a5e6,\n  0x47b0acfd, 0xed93fa9b, 0xe8d3c48d, 0x283b57cc, 0xf8d56629, 0x79132e28,\n  0x785f0191, 0xed756055, 0xf7960e44, 0xe3d35e8c, 0x15056dd4, 0x88f46dba,\n  0x03a16125, 0x0564f0bd, 0xc3eb9e15, 0x3c9057a2, 0x97271aec, 0xa93a072a,\n  0x1b3f6d9b, 0x1e6321f5, 0xf59c66fb, 0x26dcf319, 0x7533d928, 0xb155fdf5,\n  0x03563482, 0x8aba3cbb, 0x28517711, 0xc20ad9f8, 0xabcc5167, 0xccad925f,\n  0x4de81751, 0x3830dc8e, 0x379d5862, 0x9320f991, 0xea7a90c2, 0xfb3e7bce,\n  0x5121ce64, 0x774fbe32, 0xa8b6e37e, 0xc3293d46, 0x48de5369, 0x6413e680,\n  0xa2ae0810, 0xdd6db224, 0x69852dfd, 0x09072166, 0xb39a460a, 0x6445c0dd,\n  0x586cdecf, 0x1c20c8ae, 0x5bbef7dd, 0x1b588d40, 0xccd2017f, 0x6bb4e3bb,\n  0xdda26a7e, 0x3a59ff45, 0x3e350a44, 0xbcb4cdd5, 0x72eacea8, 0xfa6484bb,\n  0x8d6612ae, 0xbf3c6f47, 0xd29be463, 0x542f5d9e, 0xaec2771b, 0xf64e6370,\n  0x740e0d8d, 0xe75b1357, 0xf8721671, 0xaf537d5d, 0x4040cb08, 0x4eb4e2cc,\n  0x34d2466a, 0x0115af84, 0xe1b00428, 0x95983a1d, 0x06b89fb4, 0xce6ea048,\n  0x6f3f3b82, 0x3520ab82, 0x011a1d4b, 0x277227f8, 0x611560b1, 0xe7933fdc,\n  0xbb3a792b, 0x344525bd, 0xa08839e1, 0x51ce794b, 0x2f32c9b7, 0xa01fbac9,\n  0xe01cc87e, 0xbcc7d1f6, 0xcf0111c3, 0xa1e8aac7, 0x1a908749, 0xd44fbd9a,\n  0xd0dadecb, 0xd50ada38, 0x0339c32a, 0xc6913667, 0x8df9317c, 0xe0b12b4f,\n  0xf79e59b7, 0x43f5bb3a, 0xf2d519ff, 0x27d9459c, 0xbf97222c, 0x15e6fc2a,\n  0x0f91fc71, 0x9b941525, 0xfae59361, 0xceb69ceb, 0xc2a86459, 0x12baa8d1,\n  0xb6c1075e, 0xe3056a0c, 0x10d25065, 0xcb03a442, 0xe0ec6e0e, 0x1698db3b,\n  0x4c98a0be, 0x3278e964, 0x9f1f9532, 0xe0d392df, 0xd3a0342b, 0x8971f21e,\n  0x1b0a7441, 0x4ba3348c, 0xc5be7120, 0xc37632d8, 0xdf359f8d, 0x9b992f2e,\n  0xe60b6f47, 0x0fe3f11d, 0xe54cda54, 0x1edad891, 0xce6279cf, 0xcd3e7e6f,\n  0x1618b166, 0xfd2c1d05, 0x848fd2c5, 0xf6fb2299, 0xf523f357, 0xa6327623,\n  0x93a83531, 0x56cccd02, 0xacf08162, 0x5a75ebb5, 0x6e163697, 0x88d273cc,\n  0xde966292, 0x81b949d0, 0x4c50901b, 0x71c65614, 0xe6c6c7bd, 0x327a140a,\n  0x45e1d006, 0xc3f27b9a, 0xc9aa53fd, 0x62a80f00, 0xbb25bfe2, 0x35bdd2f6,\n  0x71126905, 0xb2040222, 0xb6cbcf7c, 0xcd769c2b, 0x53113ec0, 0x1640e3d3,\n  0x38abbd60, 0x2547adf0, 0xba38209c, 0xf746ce76, 0x77afa1c5, 0x20756060,\n  0x85cbfe4e, 0x8ae88dd8, 0x7aaaf9b0, 0x4cf9aa7e, 0x1948c25c, 0x02fb8a8c,\n  0x01c36ae4, 0xd6ebe1f9, 0x90d4f869, 0xa65cdea0, 0x3f09252d, 0xc208e69f,\n  0xb74e6132, 0xce77e25b, 0x578fdfe3, 0x3ac372e6,\n];\n\n/**\n * @type {Array.<number>}\n * @const\n * @inner\n */\nvar C_ORIG = [\n  0x4f727068, 0x65616e42, 0x65686f6c, 0x64657253, 0x63727944, 0x6f756274,\n];\n\n/**\n * @param {Array.<number>} lr\n * @param {number} off\n * @param {Array.<number>} P\n * @param {Array.<number>} S\n * @returns {Array.<number>}\n * @inner\n */\nfunction _encipher(lr, off, P, S) {\n  // This is our bottleneck: 1714/1905 ticks / 90% - see profile.txt\n  var n,\n    l = lr[off],\n    r = lr[off + 1];\n\n  l ^= P[0];\n\n  /*\n    for (var i=0, k=BLOWFISH_NUM_ROUNDS-2; i<=k;)\n        // Feistel substitution on left word\n        n  = S[l >>> 24],\n        n += S[0x100 | ((l >> 16) & 0xff)],\n        n ^= S[0x200 | ((l >> 8) & 0xff)],\n        n += S[0x300 | (l & 0xff)],\n        r ^= n ^ P[++i],\n        // Feistel substitution on right word\n        n  = S[r >>> 24],\n        n += S[0x100 | ((r >> 16) & 0xff)],\n        n ^= S[0x200 | ((r >> 8) & 0xff)],\n        n += S[0x300 | (r & 0xff)],\n        l ^= n ^ P[++i];\n    */\n\n  //The following is an unrolled version of the above loop.\n  //Iteration 0\n  n = S[l >>> 24];\n  n += S[0x100 | ((l >> 16) & 0xff)];\n  n ^= S[0x200 | ((l >> 8) & 0xff)];\n  n += S[0x300 | (l & 0xff)];\n  r ^= n ^ P[1];\n  n = S[r >>> 24];\n  n += S[0x100 | ((r >> 16) & 0xff)];\n  n ^= S[0x200 | ((r >> 8) & 0xff)];\n  n += S[0x300 | (r & 0xff)];\n  l ^= n ^ P[2];\n  //Iteration 1\n  n = S[l >>> 24];\n  n += S[0x100 | ((l >> 16) & 0xff)];\n  n ^= S[0x200 | ((l >> 8) & 0xff)];\n  n += S[0x300 | (l & 0xff)];\n  r ^= n ^ P[3];\n  n = S[r >>> 24];\n  n += S[0x100 | ((r >> 16) & 0xff)];\n  n ^= S[0x200 | ((r >> 8) & 0xff)];\n  n += S[0x300 | (r & 0xff)];\n  l ^= n ^ P[4];\n  //Iteration 2\n  n = S[l >>> 24];\n  n += S[0x100 | ((l >> 16) & 0xff)];\n  n ^= S[0x200 | ((l >> 8) & 0xff)];\n  n += S[0x300 | (l & 0xff)];\n  r ^= n ^ P[5];\n  n = S[r >>> 24];\n  n += S[0x100 | ((r >> 16) & 0xff)];\n  n ^= S[0x200 | ((r >> 8) & 0xff)];\n  n += S[0x300 | (r & 0xff)];\n  l ^= n ^ P[6];\n  //Iteration 3\n  n = S[l >>> 24];\n  n += S[0x100 | ((l >> 16) & 0xff)];\n  n ^= S[0x200 | ((l >> 8) & 0xff)];\n  n += S[0x300 | (l & 0xff)];\n  r ^= n ^ P[7];\n  n = S[r >>> 24];\n  n += S[0x100 | ((r >> 16) & 0xff)];\n  n ^= S[0x200 | ((r >> 8) & 0xff)];\n  n += S[0x300 | (r & 0xff)];\n  l ^= n ^ P[8];\n  //Iteration 4\n  n = S[l >>> 24];\n  n += S[0x100 | ((l >> 16) & 0xff)];\n  n ^= S[0x200 | ((l >> 8) & 0xff)];\n  n += S[0x300 | (l & 0xff)];\n  r ^= n ^ P[9];\n  n = S[r >>> 24];\n  n += S[0x100 | ((r >> 16) & 0xff)];\n  n ^= S[0x200 | ((r >> 8) & 0xff)];\n  n += S[0x300 | (r & 0xff)];\n  l ^= n ^ P[10];\n  //Iteration 5\n  n = S[l >>> 24];\n  n += S[0x100 | ((l >> 16) & 0xff)];\n  n ^= S[0x200 | ((l >> 8) & 0xff)];\n  n += S[0x300 | (l & 0xff)];\n  r ^= n ^ P[11];\n  n = S[r >>> 24];\n  n += S[0x100 | ((r >> 16) & 0xff)];\n  n ^= S[0x200 | ((r >> 8) & 0xff)];\n  n += S[0x300 | (r & 0xff)];\n  l ^= n ^ P[12];\n  //Iteration 6\n  n = S[l >>> 24];\n  n += S[0x100 | ((l >> 16) & 0xff)];\n  n ^= S[0x200 | ((l >> 8) & 0xff)];\n  n += S[0x300 | (l & 0xff)];\n  r ^= n ^ P[13];\n  n = S[r >>> 24];\n  n += S[0x100 | ((r >> 16) & 0xff)];\n  n ^= S[0x200 | ((r >> 8) & 0xff)];\n  n += S[0x300 | (r & 0xff)];\n  l ^= n ^ P[14];\n  //Iteration 7\n  n = S[l >>> 24];\n  n += S[0x100 | ((l >> 16) & 0xff)];\n  n ^= S[0x200 | ((l >> 8) & 0xff)];\n  n += S[0x300 | (l & 0xff)];\n  r ^= n ^ P[15];\n  n = S[r >>> 24];\n  n += S[0x100 | ((r >> 16) & 0xff)];\n  n ^= S[0x200 | ((r >> 8) & 0xff)];\n  n += S[0x300 | (r & 0xff)];\n  l ^= n ^ P[16];\n\n  lr[off] = r ^ P[BLOWFISH_NUM_ROUNDS + 1];\n  lr[off + 1] = l;\n  return lr;\n}\n\n/**\n * @param {Array.<number>} data\n * @param {number} offp\n * @returns {{key: number, offp: number}}\n * @inner\n */\nfunction _streamtoword(data, offp) {\n  for (var i = 0, word = 0; i < 4; ++i)\n    (word = (word << 8) | (data[offp] & 0xff)),\n      (offp = (offp + 1) % data.length);\n  return { key: word, offp: offp };\n}\n\n/**\n * @param {Array.<number>} key\n * @param {Array.<number>} P\n * @param {Array.<number>} S\n * @inner\n */\nfunction _key(key, P, S) {\n  var offset = 0,\n    lr = [0, 0],\n    plen = P.length,\n    slen = S.length,\n    sw;\n  for (var i = 0; i < plen; i++)\n    (sw = _streamtoword(key, offset)),\n      (offset = sw.offp),\n      (P[i] = P[i] ^ sw.key);\n  for (i = 0; i < plen; i += 2)\n    (lr = _encipher(lr, 0, P, S)), (P[i] = lr[0]), (P[i + 1] = lr[1]);\n  for (i = 0; i < slen; i += 2)\n    (lr = _encipher(lr, 0, P, S)), (S[i] = lr[0]), (S[i + 1] = lr[1]);\n}\n\n/**\n * Expensive key schedule Blowfish.\n * @param {Array.<number>} data\n * @param {Array.<number>} key\n * @param {Array.<number>} P\n * @param {Array.<number>} S\n * @inner\n */\nfunction _ekskey(data, key, P, S) {\n  var offp = 0,\n    lr = [0, 0],\n    plen = P.length,\n    slen = S.length,\n    sw;\n  for (var i = 0; i < plen; i++)\n    (sw = _streamtoword(key, offp)), (offp = sw.offp), (P[i] = P[i] ^ sw.key);\n  offp = 0;\n  for (i = 0; i < plen; i += 2)\n    (sw = _streamtoword(data, offp)),\n      (offp = sw.offp),\n      (lr[0] ^= sw.key),\n      (sw = _streamtoword(data, offp)),\n      (offp = sw.offp),\n      (lr[1] ^= sw.key),\n      (lr = _encipher(lr, 0, P, S)),\n      (P[i] = lr[0]),\n      (P[i + 1] = lr[1]);\n  for (i = 0; i < slen; i += 2)\n    (sw = _streamtoword(data, offp)),\n      (offp = sw.offp),\n      (lr[0] ^= sw.key),\n      (sw = _streamtoword(data, offp)),\n      (offp = sw.offp),\n      (lr[1] ^= sw.key),\n      (lr = _encipher(lr, 0, P, S)),\n      (S[i] = lr[0]),\n      (S[i + 1] = lr[1]);\n}\n\n/**\n * Internaly crypts a string.\n * @param {Array.<number>} b Bytes to crypt\n * @param {Array.<number>} salt Salt bytes to use\n * @param {number} rounds Number of rounds\n * @param {function(Error, Array.<number>=)=} callback Callback receiving the error, if any, and the resulting bytes. If\n *  omitted, the operation will be performed synchronously.\n *  @param {function(number)=} progressCallback Callback called with the current progress\n * @returns {!Array.<number>|undefined} Resulting bytes if callback has been omitted, otherwise `undefined`\n * @inner\n */\nfunction _crypt(b, salt, rounds, callback, progressCallback) {\n  var cdata = C_ORIG.slice(),\n    clen = cdata.length,\n    err;\n\n  // Validate\n  if (rounds < 4 || rounds > 31) {\n    err = Error(\"Illegal number of rounds (4-31): \" + rounds);\n    if (callback) {\n      nextTick(callback.bind(this, err));\n      return;\n    } else throw err;\n  }\n  if (salt.length !== BCRYPT_SALT_LEN) {\n    err = Error(\n      \"Illegal salt length: \" + salt.length + \" != \" + BCRYPT_SALT_LEN,\n    );\n    if (callback) {\n      nextTick(callback.bind(this, err));\n      return;\n    } else throw err;\n  }\n  rounds = (1 << rounds) >>> 0;\n\n  var P,\n    S,\n    i = 0,\n    j;\n\n  //Use typed arrays when available - huge speedup!\n  if (typeof Int32Array === \"function\") {\n    P = new Int32Array(P_ORIG);\n    S = new Int32Array(S_ORIG);\n  } else {\n    P = P_ORIG.slice();\n    S = S_ORIG.slice();\n  }\n\n  _ekskey(salt, b, P, S);\n\n  /**\n   * Calcualtes the next round.\n   * @returns {Array.<number>|undefined} Resulting array if callback has been omitted, otherwise `undefined`\n   * @inner\n   */\n  function next() {\n    if (progressCallback) progressCallback(i / rounds);\n    if (i < rounds) {\n      var start = Date.now();\n      for (; i < rounds; ) {\n        i = i + 1;\n        _key(b, P, S);\n        _key(salt, P, S);\n        if (Date.now() - start > MAX_EXECUTION_TIME) break;\n      }\n    } else {\n      for (i = 0; i < 64; i++)\n        for (j = 0; j < clen >> 1; j++) _encipher(cdata, j << 1, P, S);\n      var ret = [];\n      for (i = 0; i < clen; i++)\n        ret.push(((cdata[i] >> 24) & 0xff) >>> 0),\n          ret.push(((cdata[i] >> 16) & 0xff) >>> 0),\n          ret.push(((cdata[i] >> 8) & 0xff) >>> 0),\n          ret.push((cdata[i] & 0xff) >>> 0);\n      if (callback) {\n        callback(null, ret);\n        return;\n      } else return ret;\n    }\n    if (callback) nextTick(next);\n  }\n\n  // Async\n  if (typeof callback !== \"undefined\") {\n    next();\n\n    // Sync\n  } else {\n    var res;\n    while (true) if (typeof (res = next()) !== \"undefined\") return res || [];\n  }\n}\n\n/**\n * Internally hashes a password.\n * @param {string} password Password to hash\n * @param {?string} salt Salt to use, actually never null\n * @param {function(Error, string=)=} callback Callback receiving the error, if any, and the resulting hash. If omitted,\n *  hashing is performed synchronously.\n *  @param {function(number)=} progressCallback Callback called with the current progress\n * @returns {string|undefined} Resulting hash if callback has been omitted, otherwise `undefined`\n * @inner\n */\nfunction _hash(password, salt, callback, progressCallback) {\n  var err;\n  if (typeof password !== \"string\" || typeof salt !== \"string\") {\n    err = Error(\"Invalid string / salt: Not a string\");\n    if (callback) {\n      nextTick(callback.bind(this, err));\n      return;\n    } else throw err;\n  }\n\n  // Validate the salt\n  var minor, offset;\n  if (salt.charAt(0) !== \"$\" || salt.charAt(1) !== \"2\") {\n    err = Error(\"Invalid salt version: \" + salt.substring(0, 2));\n    if (callback) {\n      nextTick(callback.bind(this, err));\n      return;\n    } else throw err;\n  }\n  if (salt.charAt(2) === \"$\") (minor = String.fromCharCode(0)), (offset = 3);\n  else {\n    minor = salt.charAt(2);\n    if (\n      (minor !== \"a\" && minor !== \"b\" && minor !== \"y\") ||\n      salt.charAt(3) !== \"$\"\n    ) {\n      err = Error(\"Invalid salt revision: \" + salt.substring(2, 4));\n      if (callback) {\n        nextTick(callback.bind(this, err));\n        return;\n      } else throw err;\n    }\n    offset = 4;\n  }\n\n  // Extract number of rounds\n  if (salt.charAt(offset + 2) > \"$\") {\n    err = Error(\"Missing salt rounds\");\n    if (callback) {\n      nextTick(callback.bind(this, err));\n      return;\n    } else throw err;\n  }\n  var r1 = parseInt(salt.substring(offset, offset + 1), 10) * 10,\n    r2 = parseInt(salt.substring(offset + 1, offset + 2), 10),\n    rounds = r1 + r2,\n    real_salt = salt.substring(offset + 3, offset + 25);\n  password += minor >= \"a\" ? \"\\x00\" : \"\";\n\n  var passwordb = utf8Array(password),\n    saltb = base64_decode(real_salt, BCRYPT_SALT_LEN);\n\n  /**\n   * Finishes hashing.\n   * @param {Array.<number>} bytes Byte array\n   * @returns {string}\n   * @inner\n   */\n  function finish(bytes) {\n    var res = [];\n    res.push(\"$2\");\n    if (minor >= \"a\") res.push(minor);\n    res.push(\"$\");\n    if (rounds < 10) res.push(\"0\");\n    res.push(rounds.toString());\n    res.push(\"$\");\n    res.push(base64_encode(saltb, saltb.length));\n    res.push(base64_encode(bytes, C_ORIG.length * 4 - 1));\n    return res.join(\"\");\n  }\n\n  // Sync\n  if (typeof callback == \"undefined\")\n    return finish(_crypt(passwordb, saltb, rounds));\n  // Async\n  else {\n    _crypt(\n      passwordb,\n      saltb,\n      rounds,\n      function (err, bytes) {\n        if (err) callback(err, null);\n        else callback(null, finish(bytes));\n      },\n      progressCallback,\n    );\n  }\n}\n\n/**\n * Encodes a byte array to base64 with up to len bytes of input, using the custom bcrypt alphabet.\n * @function\n * @param {!Array.<number>} bytes Byte array\n * @param {number} length Maximum input length\n * @returns {string}\n */\nexport function encodeBase64(bytes, length) {\n  return base64_encode(bytes, length);\n}\n\n/**\n * Decodes a base64 encoded string to up to len bytes of output, using the custom bcrypt alphabet.\n * @function\n * @param {string} string String to decode\n * @param {number} length Maximum output length\n * @returns {!Array.<number>}\n */\nexport function decodeBase64(string, length) {\n  return base64_decode(string, length);\n}\n\nexport default {\n  setRandomFallback,\n  genSaltSync,\n  genSalt,\n  hashSync,\n  hash,\n  compareSync,\n  compare,\n  getRounds,\n  getSalt,\n  truncates,\n  encodeBase64,\n  decodeBase64,\n};\n", "// Authentication utilities for Cloudflare Workers\r\nimport bcrypt from 'bcryptjs';\r\n\r\n// Hash password with bcrypt\r\nexport async function hashPassword(password: string): Promise<string> {\r\n  return await bcrypt.hash(password, 10);\r\n}\r\n\r\n// Verify password\r\nexport async function verifyPassword(password: string, hash: string): Promise<boolean> {\r\n  return await bcrypt.compare(password, hash);\r\n}\r\n\r\n// Generate simple token (UUID based)\r\nexport function generateToken(userId: string): string {\r\n  const randomPart = crypto.randomUUID();\r\n  const userPart = btoa(userId);\r\n  return `${randomPart}.${userPart}`;\r\n}\r\n\r\n// Verify and extract userId from token\r\nexport function decodeToken(token: string): string | null {\r\n  try {\r\n    const parts = token.split('.');\r\n    if (parts.length !== 2) return null;\r\n    return atob(parts[1]);\r\n  } catch {\r\n    return null;\r\n  }\r\n}\r\n\r\n// Middleware: Require authentication\r\nexport async function requireAuth(request: any, db: any): Promise<string> {\r\n  const authHeader = request.headers.get('Authorization');\r\n  \r\n  if (!authHeader || !authHeader.startsWith('Bearer ')) {\r\n    throw new Error('UNAUTHORIZED: No token provided');\r\n  }\r\n  \r\n  const token = authHeader.substring(7);\r\n  const userId = decodeToken(token);\r\n  \r\n  if (!userId) {\r\n    throw new Error('UNAUTHORIZED: Invalid token');\r\n  }\r\n  \r\n  // Verify user exists and is active\r\n  const user = await db.prepare(\r\n    'SELECT id, is_active FROM auth_users WHERE id = ?'\r\n  ).bind(userId).first();\r\n  \r\n  if (!user || !user.is_active) {\r\n    throw new Error('UNAUTHORIZED: User not found or inactive');\r\n  }\r\n  \r\n  // Verify session exists and not expired\r\n  const session = await db.prepare(\r\n    'SELECT id FROM auth_sessions WHERE token = ? AND expires_at > ?'\r\n  ).bind(token, Date.now()).first();\r\n  \r\n  if (!session) {\r\n    throw new Error('UNAUTHORIZED: Session expired');\r\n  }\r\n  \r\n  return userId;\r\n}\r\n\r\n// Register new user\r\nexport async function registerUser(db: any, data: {\r\n  username: string;\r\n  email: string;\r\n  password: string;\r\n  displayName: string;\r\n}) {\r\n  // Validate input\r\n  if (!data.username || data.username.length < 3) {\r\n    throw new Error('Username ph\u1EA3i c\u00F3 \u00EDt nh\u1EA5t 3 k\u00FD t\u1EF1');\r\n  }\r\n  \r\n  if (!data.email || !data.email.includes('@')) {\r\n    throw new Error('Email kh\u00F4ng h\u1EE3p l\u1EC7');\r\n  }\r\n  \r\n  if (!data.password || data.password.length < 6) {\r\n    throw new Error('M\u1EADt kh\u1EA9u ph\u1EA3i c\u00F3 \u00EDt nh\u1EA5t 6 k\u00FD t\u1EF1');\r\n  }\r\n  \r\n  // Check if username or email already exists\r\n  const existing = await db.prepare(\r\n    'SELECT id FROM auth_users WHERE username = ? OR email = ?'\r\n  ).bind(data.username.toLowerCase(), data.email.toLowerCase()).first();\r\n  \r\n  if (existing) {\r\n    throw new Error('Username ho\u1EB7c email \u0111\u00E3 \u0111\u01B0\u1EE3c s\u1EED d\u1EE5ng');\r\n  }\r\n  \r\n  // Hash password\r\n  const passwordHash = await hashPassword(data.password);\r\n  \r\n  // Create user\r\n  const userId = crypto.randomUUID();\r\n  const now = Date.now();\r\n  \r\n  await db.prepare(\r\n    `INSERT INTO auth_users \r\n    (id, username, email, password_hash, display_name, created_at, last_login, is_active) \r\n    VALUES (?, ?, ?, ?, ?, ?, ?, ?)`\r\n  ).bind(\r\n    userId,\r\n    data.username.toLowerCase(),\r\n    data.email.toLowerCase(),\r\n    passwordHash,\r\n    data.displayName,\r\n    now,\r\n    now,\r\n    1\r\n  ).run();\r\n  \r\n  // Generate token\r\n  const token = generateToken(userId);\r\n  const expiresAt = now + (7 * 24 * 60 * 60 * 1000); // 7 days\r\n  \r\n  await db.prepare(\r\n    'INSERT INTO auth_sessions (id, user_id, token, expires_at, created_at) VALUES (?, ?, ?, ?, ?)'\r\n  ).bind(crypto.randomUUID(), userId, token, expiresAt, now).run();\r\n  \r\n  return {\r\n    user: {\r\n      id: userId,\r\n      username: data.username.toLowerCase(),\r\n      email: data.email.toLowerCase(),\r\n      displayName: data.displayName\r\n    },\r\n    token\r\n  };\r\n}\r\n\r\n// Login user\r\nexport async function loginUser(db: any, username: string, password: string) {\r\n  // Find user by username or email\r\n  const user = await db.prepare(\r\n    'SELECT * FROM auth_users WHERE username = ? OR email = ?'\r\n  ).bind(username.toLowerCase(), username.toLowerCase()).first();\r\n  \r\n  if (!user) {\r\n    throw new Error('T\u00E0i kho\u1EA3n kh\u00F4ng t\u1ED3n t\u1EA1i');\r\n  }\r\n  \r\n  if (!user.is_active) {\r\n    throw new Error('T\u00E0i kho\u1EA3n \u0111\u00E3 b\u1ECB kh\u00F3a');\r\n  }\r\n  \r\n  // Verify password\r\n  const valid = await verifyPassword(password, user.password_hash);\r\n  if (!valid) {\r\n    throw new Error('M\u1EADt kh\u1EA9u kh\u00F4ng \u0111\u00FAng');\r\n  }\r\n  \r\n  // Update last login\r\n  await db.prepare(\r\n    'UPDATE auth_users SET last_login = ? WHERE id = ?'\r\n  ).bind(Date.now(), user.id).run();\r\n  \r\n  // Generate new token\r\n  const token = generateToken(user.id);\r\n  const now = Date.now();\r\n  const expiresAt = now + (7 * 24 * 60 * 60 * 1000); // 7 days\r\n  \r\n  await db.prepare(\r\n    'INSERT INTO auth_sessions (id, user_id, token, expires_at, created_at) VALUES (?, ?, ?, ?, ?)'\r\n  ).bind(crypto.randomUUID(), user.id, token, expiresAt, now).run();\r\n  \r\n  return {\r\n    user: {\r\n      id: user.id,\r\n      username: user.username,\r\n      email: user.email,\r\n      displayName: user.display_name,\r\n      avatar: user.avatar,\r\n      bio: user.bio\r\n    },\r\n    token\r\n  };\r\n}\r\n\r\n// Logout user (invalidate token)\r\nexport async function logoutUser(db: any, token: string) {\r\n  await db.prepare('DELETE FROM auth_sessions WHERE token = ?').bind(token).run();\r\n}\r\n\r\n// Get user by ID\r\nexport async function getUserById(db: any, userId: string) {\r\n  const user = await db.prepare(\r\n    'SELECT id, username, email, display_name, avatar, bio, created_at, last_login FROM auth_users WHERE id = ?'\r\n  ).bind(userId).first();\r\n  \r\n  if (!user) {\r\n    throw new Error('User not found');\r\n  }\r\n  \r\n  return {\r\n    id: user.id,\r\n    username: user.username,\r\n    email: user.email,\r\n    displayName: user.display_name,\r\n    avatar: user.avatar,\r\n    bio: user.bio,\r\n    createdAt: user.created_at,\r\n    lastLogin: user.last_login\r\n  };\r\n}\r\n\r\n// Update user profile\r\nexport async function updateUserProfile(db: any, userId: string, updates: {\r\n  displayName?: string;\r\n  avatar?: string;\r\n  bio?: string;\r\n}) {\r\n  const fields: string[] = [];\r\n  const values: any[] = [];\r\n  \r\n  if (updates.displayName !== undefined) {\r\n    fields.push('display_name = ?');\r\n    values.push(updates.displayName);\r\n  }\r\n  \r\n  if (updates.avatar !== undefined) {\r\n    fields.push('avatar = ?');\r\n    values.push(updates.avatar);\r\n  }\r\n  \r\n  if (updates.bio !== undefined) {\r\n    fields.push('bio = ?');\r\n    values.push(updates.bio);\r\n  }\r\n  \r\n  if (fields.length === 0) {\r\n    throw new Error('No fields to update');\r\n  }\r\n  \r\n  values.push(userId);\r\n  \r\n  await db.prepare(\r\n    `UPDATE auth_users SET ${fields.join(', ')} WHERE id = ?`\r\n  ).bind(...values).run();\r\n  \r\n  return getUserById(db, userId);\r\n}\r\n\r\n// Change password\r\nexport async function changePassword(db: any, userId: string, oldPassword: string, newPassword: string) {\r\n  // Get current password hash\r\n  const user = await db.prepare(\r\n    'SELECT password_hash FROM auth_users WHERE id = ?'\r\n  ).bind(userId).first();\r\n  \r\n  if (!user) {\r\n    throw new Error('User not found');\r\n  }\r\n  \r\n  // Verify old password\r\n  const valid = await verifyPassword(oldPassword, user.password_hash);\r\n  if (!valid) {\r\n    throw new Error('M\u1EADt kh\u1EA9u hi\u1EC7n t\u1EA1i kh\u00F4ng \u0111\u00FAng');\r\n  }\r\n  \r\n  // Validate new password\r\n  if (newPassword.length < 6) {\r\n    throw new Error('M\u1EADt kh\u1EA9u m\u1EDBi ph\u1EA3i c\u00F3 \u00EDt nh\u1EA5t 6 k\u00FD t\u1EF1');\r\n  }\r\n  \r\n  // Hash new password\r\n  const newPasswordHash = await hashPassword(newPassword);\r\n  \r\n  // Update password\r\n  await db.prepare(\r\n    'UPDATE auth_users SET password_hash = ? WHERE id = ?'\r\n  ).bind(newPasswordHash, userId).run();\r\n  \r\n  // Invalidate all sessions (force re-login)\r\n  await db.prepare('DELETE FROM auth_sessions WHERE user_id = ?').bind(userId).run();\r\n}\r\n", "// Main API Router\r\nimport { Router } from 'itty-router';\r\nimport {\r\n  corsHeaders,\r\n  jsonResponse,\r\n  errorResponse,\r\n  successResponse,\r\n  badRequestResponse,\r\n  unauthorizedResponse,\r\n} from './utils';\r\nimport { requireAuth as requireAuthOld, ensureUser } from './auth';\r\nimport {\r\n  registerUser,\r\n  loginUser,\r\n  logoutUser,\r\n  getUserById,\r\n  updateUserProfile,\r\n  changePassword,\r\n  requireAuth as requireAuthNew\r\n} from './auth-service';\r\n\r\nexport interface Env {\r\n  DB: D1Database;\r\n  GEMINI_API_KEY?: string;\r\n  ALLOWED_ORIGINS?: string;\r\n}\r\n\r\nconst router = Router();\r\n\r\n// CORS preflight\r\nrouter.options('*', () => new Response(null, { headers: corsHeaders }));\r\n\r\n// Health check\r\nrouter.get('/api/health', () =>\r\n  successResponse({ status: 'ok', version: '1.0.0' })\r\n);\r\n\r\n// ============= AUTHENTICATION =============\r\n\r\n// Register\r\nrouter.post('/api/auth/register', async (request, env: Env) => {\r\n  try {\r\n    const body: any = await request.json();\r\n    const { username, email, password, displayName } = body;\r\n    \r\n    if (!username || !email || !password || !displayName) {\r\n      return badRequestResponse('Missing required fields');\r\n    }\r\n    \r\n    const result = await registerUser(env.DB, {\r\n      username,\r\n      email,\r\n      password,\r\n      displayName\r\n    });\r\n    \r\n    return successResponse(result, 'Registration successful');\r\n  } catch (error: any) {\r\n    return errorResponse(error.message, 400);\r\n  }\r\n});\r\n\r\n// Login\r\nrouter.post('/api/auth/login', async (request, env: Env) => {\r\n  try {\r\n    const body: any = await request.json();\r\n    const { username, password } = body;\r\n    \r\n    if (!username || !password) {\r\n      return badRequestResponse('Username and password are required');\r\n    }\r\n    \r\n    const result = await loginUser(env.DB, username, password);\r\n    \r\n    return successResponse(result, 'Login successful');\r\n  } catch (error: any) {\r\n    return errorResponse(error.message, 401);\r\n  }\r\n});\r\n\r\n// Logout\r\nrouter.post('/api/auth/logout', async (request, env: Env) => {\r\n  try {\r\n    const authHeader = request.headers.get('Authorization');\r\n    if (!authHeader?.startsWith('Bearer ')) {\r\n      return unauthorizedResponse();\r\n    }\r\n    \r\n    const token = authHeader.substring(7);\r\n    await logoutUser(env.DB, token);\r\n    \r\n    return successResponse(null, 'Logout successful');\r\n  } catch (error: any) {\r\n    return errorResponse(error.message);\r\n  }\r\n});\r\n\r\n// Get current user\r\nrouter.get('/api/auth/me', async (request, env: Env) => {\r\n  try {\r\n    const userId = await requireAuthNew(request, env.DB);\r\n    const user = await getUserById(env.DB, userId);\r\n    \r\n    return successResponse(user);\r\n  } catch (error: any) {\r\n    return unauthorizedResponse(error.message);\r\n  }\r\n});\r\n\r\n// Update profile\r\nrouter.put('/api/auth/profile', async (request, env: Env) => {\r\n  try {\r\n    const userId = await requireAuthNew(request, env.DB);\r\n    const body: any = await request.json();\r\n    \r\n    const { displayName, avatar, bio } = body;\r\n    const updatedUser = await updateUserProfile(env.DB, userId, {\r\n      displayName,\r\n      avatar,\r\n      bio\r\n    });\r\n    \r\n    return successResponse(updatedUser, 'Profile updated');\r\n  } catch (error: any) {\r\n    return errorResponse(error.message);\r\n  }\r\n});\r\n\r\n// Change password\r\nrouter.post('/api/auth/change-password', async (request, env: Env) => {\r\n  try {\r\n    const userId = await requireAuthNew(request, env.DB);\r\n    const body: any = await request.json();\r\n    \r\n    const { oldPassword, newPassword } = body;\r\n    \r\n    if (!oldPassword || !newPassword) {\r\n      return badRequestResponse('Old and new passwords are required');\r\n    }\r\n    \r\n    await changePassword(env.DB, userId, oldPassword, newPassword);\r\n    \r\n    return successResponse(null, 'Password changed successfully');\r\n  } catch (error: any) {\r\n    return errorResponse(error.message, 400);\r\n  }\r\n});\r\n\r\n// ============= USERS (Legacy - keeping for backward compatibility) =============\r\n\r\nrouter.post('/api/users/register', async (request, env: Env) => {\r\n  try {\r\n    const userId = requireAuthOld(request);\r\n    const body = await request.json();\r\n\r\n    await ensureUser(env.DB, userId);\r\n\r\n    if (body.name) {\r\n      await env.DB.prepare('UPDATE users SET name = ? WHERE id = ?')\r\n        .bind(body.name, userId)\r\n        .run();\r\n    }\r\n\r\n    const user = await env.DB.prepare('SELECT * FROM users WHERE id = ?')\r\n      .bind(userId)\r\n      .first();\r\n\r\n    return successResponse(user, 'User registered successfully');\r\n  } catch (error: any) {\r\n    return errorResponse(error.message);\r\n  }\r\n});\r\n\r\nrouter.get('/api/users/me', async (request, env: Env) => {\r\n  try {\r\n    const userId = requireAuth(request);\r\n    await ensureUser(env.DB, userId);\r\n\r\n    const user = await env.DB.prepare('SELECT * FROM users WHERE id = ?')\r\n      .bind(userId)\r\n      .first();\r\n\r\n    return successResponse(user);\r\n  } catch (error: any) {\r\n    return errorResponse(error.message);\r\n  }\r\n});\r\n\r\nrouter.put('/api/users/me', async (request, env: Env) => {\r\n  try {\r\n    const userId = requireAuth(request);\r\n    const body = await request.json();\r\n\r\n    const { name, email, avatar } = body;\r\n    await env.DB.prepare(\r\n      'UPDATE users SET name = COALESCE(?, name), email = COALESCE(?, email), avatar = COALESCE(?, avatar) WHERE id = ?'\r\n    )\r\n      .bind(name, email, avatar, userId)\r\n      .run();\r\n\r\n    const user = await env.DB.prepare('SELECT * FROM users WHERE id = ?')\r\n      .bind(userId)\r\n      .first();\r\n\r\n    return successResponse(user, 'Profile updated');\r\n  } catch (error: any) {\r\n    return errorResponse(error.message);\r\n  }\r\n});\r\n\r\n// ============= EXAMS =============\r\n\r\nrouter.post('/api/exams', async (request, env: Env) => {\r\n  try {\r\n    const userId = requireAuth(request);\r\n    await ensureUser(env.DB, userId);\r\n\r\n    const body = await request.json();\r\n    const {\r\n      id,\r\n      title,\r\n      category,\r\n      grade,\r\n      questions,\r\n      answers,\r\n      score,\r\n      total_questions,\r\n      duration,\r\n      completed_at,\r\n    } = body;\r\n\r\n    await env.DB.prepare(\r\n      `INSERT INTO exams (id, user_id, title, category, grade, questions, answers, score, total_questions, duration, completed_at)\r\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)`\r\n    )\r\n      .bind(\r\n        id,\r\n        userId,\r\n        title,\r\n        category,\r\n        grade,\r\n        JSON.stringify(questions),\r\n        JSON.stringify(answers),\r\n        score,\r\n        total_questions,\r\n        duration,\r\n        completed_at\r\n      )\r\n      .run();\r\n\r\n    return successResponse({ id }, 'Exam saved successfully');\r\n  } catch (error: any) {\r\n    return errorResponse(error.message);\r\n  }\r\n});\r\n\r\nrouter.get('/api/exams', async (request, env: Env) => {\r\n  try {\r\n    const userId = requireAuth(request);\r\n    const url = new URL(request.url);\r\n    const limit = parseInt(url.searchParams.get('limit') || '20');\r\n    const offset = parseInt(url.searchParams.get('offset') || '0');\r\n\r\n    const exams = await env.DB.prepare(\r\n      'SELECT * FROM exams WHERE user_id = ? ORDER BY completed_at DESC LIMIT ? OFFSET ?'\r\n    )\r\n      .bind(userId, limit, offset)\r\n      .all();\r\n\r\n    // Parse JSON fields\r\n    const results = exams.results.map((exam: any) => ({\r\n      ...exam,\r\n      questions: JSON.parse(exam.questions),\r\n      answers: exam.answers ? JSON.parse(exam.answers) : null,\r\n    }));\r\n\r\n    return successResponse({\r\n      exams: results,\r\n      total: exams.results.length,\r\n    });\r\n  } catch (error: any) {\r\n    return errorResponse(error.message);\r\n  }\r\n});\r\n\r\nrouter.get('/api/exams/:id', async (request, env: Env) => {\r\n  try {\r\n    const userId = requireAuth(request);\r\n    const { id } = request.params;\r\n\r\n    const exam = await env.DB.prepare(\r\n      'SELECT * FROM exams WHERE id = ? AND user_id = ?'\r\n    )\r\n      .bind(id, userId)\r\n      .first();\r\n\r\n    if (!exam) {\r\n      return errorResponse('Exam not found', 404);\r\n    }\r\n\r\n    return successResponse({\r\n      ...exam,\r\n      questions: JSON.parse(exam.questions as string),\r\n      answers: exam.answers ? JSON.parse(exam.answers as string) : null,\r\n    });\r\n  } catch (error: any) {\r\n    return errorResponse(error.message);\r\n  }\r\n});\r\n\r\nrouter.delete('/api/exams/:id', async (request, env: Env) => {\r\n  try {\r\n    const userId = requireAuth(request);\r\n    const { id } = request.params;\r\n\r\n    await env.DB.prepare('DELETE FROM exams WHERE id = ? AND user_id = ?')\r\n      .bind(id, userId)\r\n      .run();\r\n\r\n    return successResponse(null, 'Exam deleted');\r\n  } catch (error: any) {\r\n    return errorResponse(error.message);\r\n  }\r\n});\r\n\r\nrouter.get('/api/exams/stats', async (request, env: Env) => {\r\n  try {\r\n    const userId = requireAuth(request);\r\n\r\n    const stats = await env.DB.prepare(\r\n      `SELECT \r\n        COUNT(*) as total_exams,\r\n        AVG(score) as avg_score,\r\n        MAX(score) as max_score,\r\n        MIN(score) as min_score,\r\n        SUM(duration) as total_time\r\n      FROM exams WHERE user_id = ?`\r\n    )\r\n      .bind(userId)\r\n      .first();\r\n\r\n    return successResponse(stats);\r\n  } catch (error: any) {\r\n    return errorResponse(error.message);\r\n  }\r\n});\r\n\r\n// ============= FLASHCARDS =============\r\n\r\nrouter.post('/api/flashcards/decks', async (request, env: Env) => {\r\n  try {\r\n    const userId = requireAuth(request);\r\n    await ensureUser(env.DB, userId);\r\n\r\n    const body = await request.json();\r\n    const { id, title, description, category, grade, is_public, color } = body;\r\n    const now = Date.now();\r\n\r\n    await env.DB.prepare(\r\n      `INSERT INTO flashcard_decks (id, user_id, title, description, category, grade, is_public, color, created_at, updated_at)\r\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)`\r\n    )\r\n      .bind(id, userId, title, description, category, grade, is_public ? 1 : 0, color, now, now)\r\n      .run();\r\n\r\n    return successResponse({ id }, 'Deck created successfully');\r\n  } catch (error: any) {\r\n    return errorResponse(error.message);\r\n  }\r\n});\r\n\r\nrouter.get('/api/flashcards/decks', async (request, env: Env) => {\r\n  try {\r\n    const userId = requireAuth(request);\r\n\r\n    const decks = await env.DB.prepare(\r\n      'SELECT * FROM flashcard_decks WHERE user_id = ? ORDER BY updated_at DESC'\r\n    )\r\n      .bind(userId)\r\n      .all();\r\n\r\n    return successResponse({ decks: decks.results });\r\n  } catch (error: any) {\r\n    return errorResponse(error.message);\r\n  }\r\n});\r\n\r\nrouter.get('/api/flashcards/decks/:id', async (request, env: Env) => {\r\n  try {\r\n    const userId = requireAuth(request);\r\n    const { id } = request.params;\r\n\r\n    const deck = await env.DB.prepare(\r\n      'SELECT * FROM flashcard_decks WHERE id = ? AND user_id = ?'\r\n    )\r\n      .bind(id, userId)\r\n      .first();\r\n\r\n    if (!deck) {\r\n      return errorResponse('Deck not found', 404);\r\n    }\r\n\r\n    const cards = await env.DB.prepare(\r\n      'SELECT * FROM flashcards WHERE deck_id = ? ORDER BY created_at DESC'\r\n    )\r\n      .bind(id)\r\n      .all();\r\n\r\n    return successResponse({\r\n      ...deck,\r\n      cards: cards.results.map((card: any) => ({\r\n        ...card,\r\n        tags: card.tags ? JSON.parse(card.tags) : [],\r\n      })),\r\n    });\r\n  } catch (error: any) {\r\n    return errorResponse(error.message);\r\n  }\r\n});\r\n\r\nrouter.delete('/api/flashcards/decks/:id', async (request, env: Env) => {\r\n  try {\r\n    const userId = requireAuth(request);\r\n    const { id } = request.params;\r\n\r\n    await env.DB.prepare('DELETE FROM flashcard_decks WHERE id = ? AND user_id = ?')\r\n      .bind(id, userId)\r\n      .run();\r\n\r\n    return successResponse(null, 'Deck deleted');\r\n  } catch (error: any) {\r\n    return errorResponse(error.message);\r\n  }\r\n});\r\n\r\nrouter.post('/api/flashcards/decks/:deckId/cards', async (request, env: Env) => {\r\n  try {\r\n    const userId = requireAuth(request);\r\n    const { deckId } = request.params;\r\n    const body = await request.json();\r\n\r\n    const { id, question, answer, difficulty, tags } = body;\r\n    const now = Date.now();\r\n\r\n    await env.DB.prepare(\r\n      `INSERT INTO flashcards (id, deck_id, question, answer, difficulty, tags, created_at)\r\n       VALUES (?, ?, ?, ?, ?, ?, ?)`\r\n    )\r\n      .bind(id, deckId, question, answer, difficulty, JSON.stringify(tags), now)\r\n      .run();\r\n\r\n    // Update deck updated_at\r\n    await env.DB.prepare('UPDATE flashcard_decks SET updated_at = ? WHERE id = ?')\r\n      .bind(now, deckId)\r\n      .run();\r\n\r\n    return successResponse({ id }, 'Card created successfully');\r\n  } catch (error: any) {\r\n    return errorResponse(error.message);\r\n  }\r\n});\r\n\r\nrouter.put('/api/flashcards/cards/:id', async (request, env: Env) => {\r\n  try {\r\n    const { id } = request.params;\r\n    const body = await request.json();\r\n\r\n    const {\r\n      ease_factor,\r\n      interval,\r\n      repetitions,\r\n      mastery_level,\r\n      review_count,\r\n      correct_count,\r\n      next_review,\r\n      last_reviewed,\r\n    } = body;\r\n\r\n    await env.DB.prepare(\r\n      `UPDATE flashcards SET \r\n        ease_factor = ?, interval = ?, repetitions = ?, mastery_level = ?,\r\n        review_count = ?, correct_count = ?, next_review = ?, last_reviewed = ?\r\n       WHERE id = ?`\r\n    )\r\n      .bind(\r\n        ease_factor,\r\n        interval,\r\n        repetitions,\r\n        mastery_level,\r\n        review_count,\r\n        correct_count,\r\n        next_review,\r\n        last_reviewed,\r\n        id\r\n      )\r\n      .run();\r\n\r\n    return successResponse({ id }, 'Card updated');\r\n  } catch (error: any) {\r\n    return errorResponse(error.message);\r\n  }\r\n});\r\n\r\nrouter.delete('/api/flashcards/cards/:id', async (request, env: Env) => {\r\n  try {\r\n    const { id } = request.params;\r\n\r\n    await env.DB.prepare('DELETE FROM flashcards WHERE id = ?')\r\n      .bind(id)\r\n      .run();\r\n\r\n    return successResponse(null, 'Card deleted');\r\n  } catch (error: any) {\r\n    return errorResponse(error.message);\r\n  }\r\n});\r\n\r\n// ============= CHAT =============\r\n\r\nrouter.post('/api/chat/sessions', async (request, env: Env) => {\r\n  try {\r\n    const userId = requireAuth(request);\r\n    await ensureUser(env.DB, userId);\r\n\r\n    const body = await request.json();\r\n    const { id, title, category, grade, messages } = body;\r\n    const now = Date.now();\r\n\r\n    await env.DB.prepare(\r\n      `INSERT INTO chat_sessions (id, user_id, title, category, grade, messages, message_count, created_at, updated_at)\r\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)`\r\n    )\r\n      .bind(\r\n        id,\r\n        userId,\r\n        title,\r\n        category,\r\n        grade,\r\n        JSON.stringify(messages),\r\n        messages.length,\r\n        now,\r\n        now\r\n      )\r\n      .run();\r\n\r\n    return successResponse({ id }, 'Chat session created');\r\n  } catch (error: any) {\r\n    return errorResponse(error.message);\r\n  }\r\n});\r\n\r\nrouter.get('/api/chat/sessions', async (request, env: Env) => {\r\n  try {\r\n    const userId = requireAuth(request);\r\n\r\n    const sessions = await env.DB.prepare(\r\n      'SELECT * FROM chat_sessions WHERE user_id = ? ORDER BY updated_at DESC LIMIT 50'\r\n    )\r\n      .bind(userId)\r\n      .all();\r\n\r\n    return successResponse({\r\n      sessions: sessions.results.map((s: any) => ({\r\n        ...s,\r\n        messages: JSON.parse(s.messages),\r\n      })),\r\n    });\r\n  } catch (error: any) {\r\n    return errorResponse(error.message);\r\n  }\r\n});\r\n\r\nrouter.get('/api/chat/sessions/:id', async (request, env: Env) => {\r\n  try {\r\n    const userId = requireAuth(request);\r\n    const { id } = request.params;\r\n\r\n    const session = await env.DB.prepare(\r\n      'SELECT * FROM chat_sessions WHERE id = ? AND user_id = ?'\r\n    )\r\n      .bind(id, userId)\r\n      .first();\r\n\r\n    if (!session) {\r\n      return errorResponse('Chat session not found', 404);\r\n    }\r\n\r\n    return successResponse({\r\n      ...session,\r\n      messages: JSON.parse(session.messages as string),\r\n    });\r\n  } catch (error: any) {\r\n    return errorResponse(error.message);\r\n  }\r\n});\r\n\r\nrouter.put('/api/chat/sessions/:id', async (request, env: Env) => {\r\n  try {\r\n    const userId = requireAuth(request);\r\n    const { id } = request.params;\r\n    const body = await request.json();\r\n    const { messages } = body;\r\n\r\n    await env.DB.prepare(\r\n      'UPDATE chat_sessions SET messages = ?, message_count = ?, updated_at = ? WHERE id = ? AND user_id = ?'\r\n    )\r\n      .bind(JSON.stringify(messages), messages.length, Date.now(), id, userId)\r\n      .run();\r\n\r\n    return successResponse(null, 'Chat updated');\r\n  } catch (error: any) {\r\n    return errorResponse(error.message);\r\n  }\r\n});\r\n\r\nrouter.delete('/api/chat/sessions/:id', async (request, env: Env) => {\r\n  try {\r\n    const userId = requireAuth(request);\r\n    const { id } = request.params;\r\n\r\n    await env.DB.prepare('DELETE FROM chat_sessions WHERE id = ? AND user_id = ?')\r\n      .bind(id, userId)\r\n      .run();\r\n\r\n    return successResponse(null, 'Chat deleted');\r\n  } catch (error: any) {\r\n    return errorResponse(error.message);\r\n  }\r\n});\r\n\r\n// ============= PROGRESS =============\r\n\r\nrouter.post('/api/progress/sessions', async (request, env: Env) => {\r\n  try {\r\n    const userId = requireAuth(request);\r\n    await ensureUser(env.DB, userId);\r\n\r\n    const body = await request.json();\r\n    const { id, activity, duration, score, cards_studied, questions_asked, subject, grade, session_date } = body;\r\n\r\n    await env.DB.prepare(\r\n      `INSERT INTO study_sessions (id, user_id, activity, duration, score, cards_studied, questions_asked, subject, grade, session_date)\r\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)`\r\n    )\r\n      .bind(id, userId, activity, duration, score, cards_studied, questions_asked, subject, grade, session_date)\r\n      .run();\r\n\r\n    return successResponse({ id }, 'Session recorded');\r\n  } catch (error: any) {\r\n    return errorResponse(error.message);\r\n  }\r\n});\r\n\r\nrouter.get('/api/progress/stats', async (request, env: Env) => {\r\n  try {\r\n    const userId = requireAuth(request);\r\n\r\n    const stats = await env.DB.prepare(\r\n      `SELECT \r\n        COUNT(*) as total_sessions,\r\n        SUM(duration) as total_time,\r\n        AVG(CASE WHEN activity = 'exam' THEN score END) as avg_exam_score,\r\n        SUM(cards_studied) as total_cards,\r\n        SUM(questions_asked) as total_questions\r\n      FROM study_sessions WHERE user_id = ?`\r\n    )\r\n      .bind(userId)\r\n      .first();\r\n\r\n    return successResponse(stats);\r\n  } catch (error: any) {\r\n    return errorResponse(error.message);\r\n  }\r\n});\r\n\r\nrouter.get('/api/progress/chart/:period', async (request, env: Env) => {\r\n  try {\r\n    const userId = requireAuth(request);\r\n    const { period } = request.params;\r\n    const days = parseInt(period) || 7;\r\n\r\n    const cutoff = Date.now() - days * 24 * 60 * 60 * 1000;\r\n\r\n    const sessions = await env.DB.prepare(\r\n      'SELECT * FROM study_sessions WHERE user_id = ? AND session_date >= ? ORDER BY session_date ASC'\r\n    )\r\n      .bind(userId, cutoff)\r\n      .all();\r\n\r\n    return successResponse({ sessions: sessions.results });\r\n  } catch (error: any) {\r\n    return errorResponse(error.message);\r\n  }\r\n});\r\n\r\n// ============= LEADERBOARD =============\r\n\r\nrouter.get('/api/leaderboard', async (request, env: Env) => {\r\n  try {\r\n    const leaderboard = await env.DB.prepare(\r\n      `SELECT \r\n        u.id as user_id,\r\n        u.name as user_name,\r\n        COUNT(DISTINCT CASE WHEN s.activity = 'exam' THEN s.id END) as exams_completed,\r\n        SUM(CASE WHEN s.activity = 'flashcard' THEN s.cards_studied ELSE 0 END) as flashcards_learned,\r\n        SUM(s.duration) as study_time,\r\n        (COUNT(DISTINCT CASE WHEN s.activity = 'exam' THEN s.id END) * 10 +\r\n         SUM(CASE WHEN s.activity = 'flashcard' THEN s.cards_studied ELSE 0 END) +\r\n         SUM(s.duration) / 60) as points\r\n      FROM users u\r\n      LEFT JOIN study_sessions s ON u.id = s.user_id\r\n      GROUP BY u.id\r\n      ORDER BY points DESC\r\n      LIMIT 100`\r\n    )\r\n      .all();\r\n\r\n    return successResponse({ leaderboard: leaderboard.results });\r\n  } catch (error: any) {\r\n    return errorResponse(error.message);\r\n  }\r\n});\r\n\r\n// 404\r\nrouter.all('*', () => errorResponse('Not Found', 404));\r\n\r\n// Export handler\r\nexport default {\r\n  async fetch(request: Request, env: Env, ctx: ExecutionContext): Promise<Response> {\r\n    try {\r\n      return await router.handle(request, env, ctx);\r\n    } catch (error: any) {\r\n      return errorResponse(error.message || 'Internal Server Error', 500);\r\n    }\r\n  },\r\n};\r\n"],
  "mappings": "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;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAC5D;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;A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",
  "names": ["Router", "base", "routes", "other", "__proto__", "Proxy", "get", "target", "prop", "receiver", "path", "fetch", "route", "handlers", "push", "toUpperCase", "RegExp", "replace", "async", "request", "args", "response", "match", "url", "URL", "query", "k", "v", "searchParams", "concat", "method", "regex", "pathname", "params", "groups", "handler", "proxy", "createResponse", "format", "transform", "body", "headers", "rest", "constructor", "name", "Response", "entries", "Object", "fromEntries", "json", "JSON", "stringify", "text", "createResponse", "String", "html", "jpeg", "png", "webp", "requireAuth", "nodeCrypto", "callback", "salt", "i", "hash", "c", "s", "o", "l", "err", "hash", "requireAuth", "requireAuth", "s"]
}
